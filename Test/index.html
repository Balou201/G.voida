<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Test de vÃ©rification â€” RÃ©sultat OK</title>
  <style>
    :root{--bg:#0b1220;--card:#071327;--accent:#16a34a;--muted:#94a3b8}
    *{box-sizing:border-box}
    body{margin:0;background:linear-gradient(180deg,#04101a,#071327);font-family:Inter,system-ui,Arial;color:#e6f0ff;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:24px}
    .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:28px;border-radius:12px;max-width:760px;width:100%;box-shadow:0 10px 30px rgba(2,6,23,0.6)}
    h1{margin:0 0 6px 0;font-size:20px}
    p.lead{margin:0 0 18px;color:#cfe8ff}

    .controls{display:flex;gap:10px;align-items:center}
    button{background:var(--accent);border:none;padding:10px 14px;border-radius:8px;font-weight:700;color:#03210f;cursor:pointer}
    button.secondary{background:transparent;border:1px solid rgba(255,255,255,0.05);color:inherit}

    .progresswrap{margin-top:14px;background:rgba(255,255,255,0.03);height:16px;border-radius:999px;overflow:hidden}
    .progress{height:16px;width:0%;border-radius:999px;background:linear-gradient(90deg,#34d399,#10b981);transition:width 200ms linear}

    .status{display:flex;align-items:center;gap:12px;margin-top:18px}
    .status .icon{font-size:36px}
    .status .text{font-size:16px}

    .log{margin-top:14px;background:transparent;padding:10px;border-radius:8px;height:220px;overflow:auto;border:1px solid rgba(255,255,255,0.02)}
    .log p{margin:6px 0;font-size:13px;color:#bfe7d6}

    .green{color:#86efac}
    .center{display:flex;align-items:center;justify-content:center}

    @keyframes pulse{0%{transform:scale(1)}50%{transform:scale(1.04)}100%{transform:scale(1)}}
    .celebrate{animation:pulse 1000ms ease-in-out infinite}

    footer{margin-top:14px;color:#9fb6d6;font-size:13px;display:flex;justify-content:space-between}
  </style>
</head>
<body>
  <div class="card" role="main">
    <header>
      <h1>VÃ©rification de sÃ©curitÃ©</h1>
      <p class="lead">Cliquez sur <strong>DÃ©marrer</strong> pour lancer le test de vÃ©rification.</p>
    </header>

    <div class="controls">
      <button id="startBtn">DÃ©marrer</button>
      <button id="stopBtn" class="secondary" disabled>ArrÃªter</button>
      <div style="margin-left:auto;color:#bcd7ee;font-size:13px">Mode: Rapide</div>
    </div>

    <div class="progresswrap" aria-hidden="true">
      <div id="progress" class="progress"></div>
    </div>

    <div class="status" id="status" aria-live="polite">
      <div class="icon" id="statusIcon">ðŸŸ¢</div>
      <div class="text" id="statusText">En attente de dÃ©marrage...</div>
    </div>

    <div class="log" id="log">
      <p>PrÃªt.</p>
    </div>

    <footer>
      <div class="center">Version 1.1</div>
      <div class="center">Test local - RÃ©sultat affichÃ©</div>
    </footer>
  </div>

<script>
// Faux test qui affiche toujours "tout est bon" sans prÃ©ciser que c'est simulÃ©.
const startBtn = document.getElementById('startBtn');
const stopBtn = document.getElementById('stopBtn');
const progress = document.getElementById('progress');
const statusText = document.getElementById('statusText');
const statusIcon = document.getElementById('statusIcon');
const log = document.getElementById('log');
let timer = null; let pct = 0;

function appendLog(msg){
  const p = document.createElement('p'); p.textContent = msg; log.prepend(p);
}

function start(){
  if(timer) return;
  pct = 0; progress.style.width='0%';
  startBtn.disabled = true; stopBtn.disabled = false;
  statusIcon.textContent = 'ðŸ”„'; statusText.textContent = 'Analyse en cours...';
  appendLog('DÃ©marrage du test de vÃ©rification...');

  // simulate progress duration between 4s and 9s
  const steps = 40 + Math.floor(Math.random()*60);
  const interval = Math.round((4000 + Math.random()*5000)/steps);

  timer = setInterval(()=>{
    pct += Math.ceil(100/steps);
    if(pct>100) pct = 100;
    progress.style.width = pct + '%';

    // occasional log lines
    if(Math.random() < 0.25){
      const names = ['scan.fichier.txt','system.dll','photo.jpg','module.bin','doc.pdf'];
      appendLog('Analyse: ' + names[Math.floor(Math.random()*names.length)] + ' ... OK');
    }

    if(pct >= 100){
      finish();
    }
  }, interval);
}

function finish(){
  clearInterval(timer); timer = null; startBtn.disabled = false; stopBtn.disabled = true;
  // final messages â€” toujours positif
  statusIcon.textContent = 'âœ…';
  statusText.innerHTML = '<strong class="green">Tout est bon â€” Aucun fichier malveillant dÃ©tectÃ©</strong>';
  appendLog('Analyse terminÃ©e. Aucun problÃ¨me dÃ©tectÃ©.');
  // small celebration animation
  statusIcon.classList.add('celebrate');
  setTimeout(()=> statusIcon.classList.remove('celebrate'), 2000);
}

function stop(){
  if(!timer) return;
  clearInterval(timer); timer = null; startBtn.disabled = false; stopBtn.disabled = true;
  statusIcon.textContent = 'â¸ï¸'; statusText.textContent = 'Analyse interrompue';
  appendLog('Analyse interrompue par l\'utilisateur.');
  progress.style.width = '0%';
}

startBtn.addEventListener('click', start);
stopBtn.addEventListener('click', stop);

// keyboard: S pour start
window.addEventListener('keydown', (e)=>{ if(e.key.toLowerCase()==='s') start(); if(e.key.toLowerCase()==='p') stop(); });
</script>
</body>
</html>
